<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zagadka Czekolada</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f8f1e4;
        margin: 0;
        padding: 0;
        text-align: center;
    }
    /* Modal powiadomie≈Ñ */
    .modal {
        display: flex;
        align-items: center;
        justify-content: center;
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background-color: rgba(0,0,0,0.5);
        z-index: 999;
        opacity: 1;
        transition: opacity 0.5s ease;
    }
    .modal.hide {
        opacity: 0;
        pointer-events: none;
    }
    .modal-content {
        background: white;
        padding: 20px;
        max-width: 90%;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0px 0px 10px rgba(0,0,0,0.3);
    }
    .btn {
        background-color: #8b5e3c;
        color: white;
        border: none;
        padding: 10px 20px;
        margin-top: 10px;
        font-size: 16px;
        cursor: pointer;
        border-radius: 5px;
    }
    .btn:hover {
        background-color: #a86f4c;
    }
    /* Tabliczka czekolady */
    .chocolate {
        display: none;
        margin: 20px auto;
        max-width: 320px;
        display: grid;
        grid-template-columns: repeat(6, 1fr);
        grid-gap: 4px;
    }
    .piece {
        width: 100%;
        aspect-ratio: 1 / 1;
        background-color: #6b4226;
        border: 2px solid #4d2d1a;
        border-radius: 5px;
        opacity: 0;
        transform: scale(0.8);
        animation: appear 0.3s forwards;
    }
    .eaten {
        background-color: #f8f1e4;
        border: 2px dashed #b89b83;
    }
    @keyframes appear {
        to {
            opacity: 1;
            transform: scale(1);
        }
    }
    /* Sekcja has≈Ça */
    .password-section {
        display: none;
        margin-top: 20px;
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        align-items: flex-start;
        gap: 15px;
        opacity: 0;
        transition: opacity 0.5s ease;
    }
    .password-section.show {
        opacity: 1;
    }
    .hint-img {
        max-width: 100px;
        height: auto;
    }
    /* Telefon */
    .phone {
        width: 180px;
        height: 300px;
        background-color: black;
        border-radius: 20px;
        padding: 10px;
        display: flex;
        flex-direction: column;
        align-items: center;
        box-shadow: 0px 0px 10px rgba(0,0,0,0.4);
    }
    .status-bar {
        color: white;
        font-size: 14px;
        display: flex;
        justify-content: space-between;
        width: 100%;
        padding: 0 8px;
    }
    .screen {
        background-color: #dcdcdc;
        width: 100%;
        flex-grow: 1;
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 10px;
        margin-top: 5px;
    }
    .screen input {
        font-size: 16px;
        padding: 6px;
        text-align: center;
        width: 100%;
        border: 2px solid #555;
        border-radius: 5px;
        outline: none;
    }
    @media (max-width: 500px) {
        .password-section {
            flex-direction: column;
            align-items: center;
        }
        .hint-img {
            max-width: 80px;
        }
    }
</style>
</head>
<body>

<!-- Modal poczƒÖtkowy -->
<div class="modal" id="introModal">
    <div class="modal-content">
        <h2>SprzƒÖtajƒÖc pok√≥j natknƒô≈Ça≈õ siƒô na telefon i czekoladƒô, kt√≥rƒÖ jad≈Ç Mati.</h2>
        <p>Tylko czemu wyjad≈Ç <b>tylko niekt√≥re kostki</b>...? ü§î</p>
        <button class="btn" onclick="startPuzzle()">Zaczynaj</button>
    </div>
</div>

<!-- Tabliczka czekolady -->
<div class="chocolate" id="chocolate"></div>

<!-- Sekcja has≈Ça -->
<div class="password-section" id="passwordSection">
    <img src="abc.png" alt="Podpowied≈∫" class="hint-img">
    <div class="phone">
        <div class="status-bar">
            <span>1:11</span>
            <span>üì∂ üîã</span>
        </div>
        <div class="screen">
            <input type="text" id="password" placeholder="Has≈Ço...">
        </div>
        <button class="btn" style="margin-top:10px;" onclick="checkPassword()">Sprawd≈∫</button>
    </div>
</div>

<div id="result"></div>

<!-- Modal ko≈Ñcowy -->
<div class="modal" id="endModal" style="display:none;">
    <div class="modal-content">
        <p><b>Mam teraz has≈Ço do telefonu Matiego!</b> üì±</p>
        <button class="btn" onclick="location.href='zagadka3.html'">Dalej ‚û°</button>
    </div>
</div>

<script>
function startPuzzle() {
    // Animacja zamykania intro
    const intro = document.getElementById('introModal');
    intro.classList.add('hide');
    setTimeout(() => { intro.style.display = 'none'; }, 500);

    const chocolate = document.getElementById('chocolate');
    chocolate.innerHTML = '';

    // Wyjedzone litery M Y S Z K A
    const eatenLetters = ['M', 'Y', 'S', 'Z', 'K', 'A']; 
    const alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');
    
    alphabet.forEach((letter, i) => {
        const piece = document.createElement('div');
        if (eatenLetters.includes(letter)) {
            piece.className = 'piece eaten';
        } else {
            piece.className = 'piece';
        }
        piece.style.animationDelay = `${i * 0.05}s`;
        chocolate.appendChild(piece);
    });

    // Pokazanie tabliczki po kr√≥tkim czasie
    setTimeout(() => {
        chocolate.style.display = 'grid';
        document.getElementById('passwordSection').classList.add('show');
    }, 300);
}

function checkPassword() {
    const pass = document.getElementById('password').value.trim().toLowerCase();
    if (pass === 'myszka') {
        const end = document.getElementById('endModal');
        end.style.display = 'flex';
        setTimeout(() => { end.classList.remove('hide'); }, 10);
    } else {
        document.getElementById('result').innerHTML = '<p style="color:red;">B≈Çƒôdne has≈Ço ‚ùå</p>';
    }
}
</script>

</body>
</html>
