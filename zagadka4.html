<!DOCTYPE html>
<html lang="pl">
<head>
ย <meta charset="UTF-8" /><meta name="viewport" content="width=device-width,initial-scale=1.0">
ย <title>Vertical Runner Special</title>
ย <style>
ย ย @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap');

ย ย body {
ย ย ย font-family: 'Roboto', sans-serif;
ย ย ย margin: 0;
ย ย ย overflow: hidden;
ย ย ย background-color: #f0f0f0;
ย ย }

ย ย #startScreen, #endScreen {
ย ย ย position: absolute;
ย ย ย top: 0; left: 0;
ย ย ย width: 100vw; height: 100vh;
ย ย ย background: #f0fff0;
ย ย ย z-index: 100;
ย ย ย display: flex;
ย ย ย flex-direction: column;
ย ย ย justify-content: center;
ย ย ย align-items: center;
ย ย ย text-align: center;
ย ย ย padding: 20px;
ย ย ย box-sizing: border-box;
ย ย }

ย ย .container {
ย ย ย padding: 40px;
ย ย ย border: 5px solid #a2e8a2;
ย ย ย border-radius: 20px;
ย ย ย background-color: #f0fff0;
ย ย ย box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
ย ย }

ย ย h1, h2 {
ย ย ย font-size: 28px;
ย ย ย color: #333;
ย ย ย max-width: 90vw;
ย ย ย line-height: 1.5;
ย ย ย margin-bottom: 30px;
ย ย }

ย ย #endScreen h2 {
ย ย ย color: #333;
ย ย ย margin-bottom: 20px;
ย ย }

ย ย button {
ย ย ย padding: 15px 30px;
ย ย ย font-size: 18px;
ย ย ย margin-top: 15px;
ย ย ย background-color: #6e3b8f;
ย ย ย color: white;
ย ย ย border: none;
ย ย ย border-radius: 10px;
ย ย ย cursor: pointer;
ย ย ย box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
ย ย ย transition: transform 0.2s, background-color 0.2s;
ย ย }

ย ย button:hover {
ย ย ย background-color: #542c6e;
ย ย ย transform: translateY(-2px);
ย ย }

ย ย #game {
ย ย ย display: none;
ย ย ย position: relative;
ย ย ย width: 100vw;
ย ย ย height: 100vh;
ย ย ย background-image: url('background.png');
ย ย ย background-size: cover;
ย ย ย background-repeat: repeat-y;
ย ย }

ย ย #player {
ย ย ย position: absolute;
ย ย ย width: 50px;
ย ย ย height: 50px;
ย ย ย bottom: 20px;
ย ย ย left: 50%;
ย ย ย transform: translateX(-50%);
ย ย ย background-image: url('player.png');
ย ย ย background-size: cover;
ย ย ย border-radius: 8px;
ย ย ย z-index: 10;
ย ย }

ย ย .obstacle {
ย ย ย position: absolute;
ย ย ย width: 60px;
ย ย ย height: 60px;
ย ย ย background-image: url('obstacle.png');
ย ย ย background-size: cover;
ย ย ย border-radius: 4px;
ย ย ย z-index: 5;
ย ย }

ย ย .bullet {
ย ย ย position: absolute;
ย ย ย width: 20px;
ย ย ย height: 20px;
ย ย ย background-image: url('bullet.png');
ย ย ย background-size: cover;
ย ย ย border-radius: 50%;
ย ย ย z-index: 6;
ย ย }

ย ย #goal {
ย ย ย position: absolute;
ย ย ย width: 60px;
ย ย ย height: 60px;
ย ย ย background-image: url('goal.png');
ย ย ย background-size: cover;
ย ย ย border-radius: 8px;
ย ย ย z-index: 9;
ย ย }
ย </style>
</head>
<body>

<div id="startScreen">
ย <div class="container">
ย ย <h1>๐ฃ Co odjebaลo temu Matiemu? Pojechaล na Ukrainฤ... Muszฤ go ratowaฤ! <br> A WIฤC JA POJECHAJU ZA NIM NA FRONT๐ฅ</h1>
ย ย <button id="start">Zaczynamy</button>
ย ย <button>Instrukcje</button>
ย ย <button>Najlepsze Wyniki</button>
ย </div>
</div>

<div id="game">
ย <div id="player"></div>
ย <div id="goal"></div>
</div>

<div id="endScreen" style="display:none;">
ย <div class="container">
ย ย <h2>๐ Spotykasz znajomฤ twarz!</h2>
ย ย <button id="talk">Zacznij rozmowฤ</button>
ย ย <button>Zagraj ponownie</button>
ย </div>
</div>

<script>
ย const startBtn = document.getElementById('start');
ย const talkBtn = document.getElementById('talk');
ย const startScreen = document.getElementById('startScreen');
ย const endScreen = document.getElementById('endScreen');
ย const game = document.getElementById('game');
ย const player = document.getElementById('player');
ย const goal = document.getElementById('goal');
ย let playing = false;
ย const scrollSpeed = 2;
ย let gameOffset = 0;

ย function moveBackground(){
ย ย gameOffset += scrollSpeed;
ย ย game.style.backgroundPositionY = gameOffset + 'px';
ย ย if(playing) requestAnimationFrame(moveBackground);
ย }

ย function placeGoal(){
ย ย goal.style.top = '-2000px';
ย ย goal.style.left = Math.random() * (game.clientWidth - 60) + 'px';
ย }

ย function moveGoal(){
ย ย function step(){
ย ย ย if(!playing) return;
ย ย ย let top = parseFloat(goal.style.top);
ย ย ย goal.style.top = (top + scrollSpeed) + 'px';
ย ย ย if(top + 60 > game.clientHeight){
ย ย ย ย playing = false;
ย ย ย } else {
ย ย ย ย requestAnimationFrame(step);
ย ย ย }
ย ย }
ย ย step();
ย }

ย function spawnObstacle(){
ย ย // Zmniejszona czฤstotliwoลฤ przeszkรณd (np. co 100 klatek)
ย ย if(!playing) return;
ย ย if(Math.random() < 0.015) { // To jest szansa na pojawienie siฤ przeszkody
ย ย ย const obs = document.createElement('div');
ย ย ย obs.className = 'obstacle';
ย ย ย 
ย ย ย // Ustawienie kolumn przeszkรณd
ย ย ย const gapWidth = 150; // Szerokoลฤ przejลcia
ย ย ย const randomStart = Math.random() * (game.clientWidth - gapWidth - 120);
ย ย ย 
ย ย ย obs.style.width = randomStart + 'px';
ย ย ย obs.style.height = '60px';
ย ย ย obs.style.left = '0px';
ย ย ย obs.style.top = '-60px';
ย ย ย game.appendChild(obs);
ย ย ย moveObstacle(obs);

ย ย ย const obs2 = document.createElement('div');
ย ย ย obs2.className = 'obstacle';
ย ย ย obs2.style.width = (game.clientWidth - randomStart - gapWidth) + 'px';
ย ย ย obs2.style.height = '60px';
ย ย ย obs2.style.left = (randomStart + gapWidth) + 'px';
ย ย ย obs2.style.top = '-60px';
ย ย ย game.appendChild(obs2);
ย ย ย moveObstacle(obs2);
ย ย }
ย }

ย function moveObstacle(obs){
ย ย function step(){
ย ย ย if(!playing) return;
ย ย ย const top = parseFloat(obs.style.top);
ย ย ย obs.style.top = (top + scrollSpeed) + 'px';
ย ย ย if(top > game.clientHeight) obs.remove();
ย ย ย else {
ย ย ย ย if(checkCollision(player, obs)) endGame('๐ฅ Wpadลeล na przeszkodฤ!');
ย ย ย ย requestAnimationFrame(step);
ย ย ย }
ย ย }
ย ย step();
ย }

ย function spawnBullet(){
ย ย if(!playing) return;
ย ย if(Math.random() < 0.01) { // Mniejsza szansa na pocisk
ย ย ย const b = document.createElement('div');
ย ย ย b.className = 'bullet';
ย ย ย b.style.top = '-20px';
ย ย ย b.style.left = Math.random() * (game.clientWidth - 20) + 'px';
ย ย ย game.appendChild(b);
ย ย ย moveBullet(b);
ย ย }
ย }
ย function moveBullet(b){
ย ย function step(){
ย ย ย if(!playing) return;
ย ย ย const top = parseFloat(b.style.top);
ย ย ย b.style.top = (top + scrollSpeed + 3) + 'px';
ย ย ย if(top > game.clientHeight) b.remove();
ย ย ย else {
ย ย ย ย if(checkCollision(player, b)) endGame('๐ฃ Trafiony pociskiem!');
ย ย ย ย requestAnimationFrame(step);
ย ย ย }
ย ย }
ย ย step();
ย }

ย function checkCollision(a,b){
ย ย const A=a.getBoundingClientRect(), B=b.getBoundingClientRect();
ย ย return !(A.right<B.left||A.left>B.right||A.bottom<B.top||A.top>B.bottom);
ย }

ย function movePlayer(x){
ย ย const r=game.getBoundingClientRect();
ย ย let nx = x - r.left - player.clientWidth/2;
ย ย nx = Math.max(0, Math.min(game.clientWidth-player.clientWidth, nx));
ย ย player.style.left = nx + 'px';
ย }

ย function endGame(msg){
ย ย alert(msg);
ย ย game.style.display = 'none';
ย ย endScreen.style.display = 'flex';
ย }

ย function gameLoop(){
ย ย if(!playing) return;
ย ย spawnObstacle();
ย ย spawnBullet();
ย ย setTimeout(() => requestAnimationFrame(gameLoop), 1000 / 60); // Ograniczenie klatek
ย }

ย startBtn.onclick = ()=>{
ย ย startScreen.style.display='none';
ย ย game.style.display='block';
ย ย playing = true;
ย ย placeGoal();
ย ย moveBackground();
ย ย moveGoal();
ย ย gameLoop();
ย };

ย talkBtn.onclick = ()=>{
ย ย window.location.href = 'zagadka5.html';
ย };

ย game.addEventListener('touchmove', e => movePlayer(e.touches[0].clientX));
ย game.addEventListener('mousemove', e=>{ if(e.buttons) movePlayer(e.clientX); });

</script>
</body>
</html>
