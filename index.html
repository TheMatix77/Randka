<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Randka z NiespodziankÄ… ğŸ’˜</title>
  <style>
    body {
      font-family: 'Comic Sans MS', cursive, sans-serif;
      background: linear-gradient(to right, #ffd6ec, #d6f3ff);
      text-align: center;
      padding: 40px;
      color: #444;
    }
    .container {
      max-width: 600px;
      margin: auto;
      background: #fff7fc;
      padding: 20px;
      border-radius: 20px;
      box-shadow: 0 0 20px rgba(0,0,0,0.1);
    }
    button {
      padding: 15px 30px;
      font-size: 18px;
      border: none;
      border-radius: 30px;
      margin: 10px;
      background-color: #ff88c2;
      color: white;
      cursor: pointer;
      transition: transform 0.2s, opacity 0.2s;
    }
    #noBtn.shrink {
      transform: scale(0.9);
      opacity: 0.8;
    }
    #noBtn.smaller {
      transform: scale(0.5);
      opacity: 0.5;
    }
    #noBtn.hide {
      display: none;
    }
    .hidden { display: none; }
    .heart { font-size: 32px; color: #ff5b9e; }
  </style>
</head>
<body>
  <div class="container" id="start">
    <h1>Hej Ty ğŸ’—</h1>
    <p>Wiem, Å¼e randki wyglÄ…dajÄ… rÃ³Å¼nie... Ale dziÅ› przygotowaÅ‚em coÅ› innego. <br>PrzejdÅº przez kilka sÅ‚odkich zadaÅ„, a na koÅ„cu czeka na Ciebie coÅ›, co bije prosto z serca.</p>
    <button onclick="nextStep('step1')">Zaczynamy!</button>
  </div>

  <div class="container hidden" id="step1">
    <h2>Co najbardziej lubiÄ™ w Tobie?</h2>
    <button onclick="nextStep('step2')">TwÃ³j uÅ›miech</button>
    <button onclick="nextStep('step2')">Twoje oczy</button>
    <button onclick="nextStep('step2')">Wszystko naraz (i jeszcze wiÄ™cej)</button>
  </div>

  <div class="container hidden" id="step2">
    <h2>Co czujÄ™, gdy piszesz mi "hej"?</h2>
    <button onclick="nextStep('step3')">Lekki dreszcz</button>
    <button onclick="nextStep('step3')">Szeroki uÅ›miech</button>
    <button onclick="nextStep('step3')">Wszystkie emocje naraz</button>
  </div>

  <div class="container hidden" id="step3">
    <h2>Na kogo czeka moje serce?</h2>
    <button onclick="nextStep('finalQuestion')">Na sÄ…siadkÄ™ z parteru</button>
    <button onclick="nextStep('finalQuestion')">Na pizzÄ™ pepperoni</button>
    <button onclick="nextStep('finalQuestion')">Na Ciebie, gÅ‚uptasie ğŸ’•</button>
  </div>
<!-- Dodaj ten div po step3, przed finalQuestion -->
<div class="container hidden" id="stepLabirynt">
  <h2>ZnajdÅº drogÄ™ do mojego serca ğŸ’˜</h2>
  <p>PrzesuÅ„ rÃ³Å¼owe serduszko do koÅ„ca labiryntu.</p>
  <div id="labirynt" style="position:relative; margin:20px auto; width:300px; height:300px; background:#ffe6f2; border: 3px solid #ff88c2; border-radius:15px;">
    <!-- labirynt to grid z przeszkodami -->
    <div style="position:absolute; top:0; left:0; width:300px; height:20px; background:#ffbed4; border-radius: 10px 10px 0 0;"></div>
    <div style="position:absolute; top:0; left:280px; width:20px; height:300px; background:#ffbed4; border-radius: 0 10px 10px 0;"></div>
    <div style="position:absolute; top:280px; left:0; width:300px; height:20px; background:#ffbed4; border-radius: 0 0 10px 10px;"></div>
    <div style="position:absolute; top:20px; left:60px; width:20px; height:260px; background:#ffbed4;"></div>
    <div style="position:absolute; top:20px; left:100px; width:180px; height:20px; background:#ffbed4;"></div>
    <div style="position:absolute; top:80px; left:100px; width:20px; height:200px; background:#ffbed4;"></div>
    <div style="position:absolute; top:80px; left:140px; width:160px; height:20px; background:#ffbed4;"></div>
    <div style="position:absolute; top:140px; left:220px; width:20px; height:160px; background:#ffbed4;"></div>

    <div id="player" style="position:absolute; width:30px; height:30px; background:#ff88c2; border-radius:50%; top:10px; left:10px; cursor:pointer; display:flex; align-items:center; justify-content:center; font-size:20px; color:white;">â¤</div>

    <div id="goal" style="position:absolute; width:40px; height:40px; background:#ff5b9e; border-radius:50%; bottom:20px; right:20px; box-shadow: 0 0 10px #ff5b9e;">ğŸ</div>
  </div>
</div>

<!-- Popup ze zdjÄ™ciem kolegi -->
<div id="friendPopup" class="hidden" style="position:fixed; top:50%; left:50%; transform:translate(-50%, -50%); 
  background:#fff0f5; border:3px solid #ff88c2; padding:20px; border-radius:15px; box-shadow:0 0 20px rgba(255,136,194,0.6); max-width:320px; text-align:center; z-index:1000;">
  <h3>O nie! To Pedro CiÄ™ Å›ledzi ğŸ˜</h3>
  <img id="friendPic" src="TWOJE_ZDJECIE.jpg" alt="Pedro" style="width:100%; border-radius:15px; margin:10px 0;">
  <button onclick="closeFriendPopup()" style="padding:10px 20px; border:none; border-radius:20px; background:#ff88c2; color:#fff; font-weight:bold; cursor:pointer;">Kontynuuj</button>
</div>
<div id="popupOverlay" class="hidden" style="position:fixed; top:0; left:0; width:100vw; height:100vh; background:#00000099; z-index:900;"></div>

<script>
  // Funkcja pokazuje etap labiryntu
  function showLabirynt() {
    nextStep('stepLabirynt');
    initLabirynt();
  }

  // Ruch kropki w labiryncie
  function initLabirynt() {
    const player = document.getElementById('player');
    const lab = document.getElementById('labirynt');
    const goal = document.getElementById('goal');
    const step = 10;
    let posX = 10;
    let posY = 10;

    // UmoÅ¼liwiamy ruch kropki po klikniÄ™ciu i drag
    player.onmousedown = dragMouseDown;

    function dragMouseDown(e) {
      e.preventDefault();
      document.onmouseup = closeDragElement;
      document.onmousemove = elementDrag;
    }
    function elementDrag(e) {
      e.preventDefault();
      let newX = e.clientX - lab.getBoundingClientRect().left - player.offsetWidth/2;
      let newY = e.clientY - lab.getBoundingClientRect().top - player.offsetHeight/2;

      // ograniczenia ruchu do labiryntu
      if (newX < 0) newX = 0;
      if (newY < 0) newY = 0;
      if (newX > lab.clientWidth - player.clientWidth) newX = lab.clientWidth - player.clientWidth;
      if (newY > lab.clientHeight - player.clientHeight) newY = lab.clientHeight - player.clientHeight;

      player.style.left = newX + 'px';
      player.style.top = newY + 'px';

      checkGoal(newX, newY);
    }
    function closeDragElement() {
      document.onmouseup = null;
      document.onmousemove = null;
    }

    // Sprawdzenie, czy gracz dotarÅ‚ do celu
    function checkGoal(x, y) {
      const goalRect = goal.getBoundingClientRect();
      const playerRect = player.getBoundingClientRect();

      // JeÅ›li kropka jest blisko celu (w odlegÅ‚oÅ›ci 30px)
      if (
        Math.abs(playerRect.left - goalRect.left) < 30 &&
        Math.abs(playerRect.top - goalRect.top) < 30
      ) {
        showFriendPopup();
      }
    }
  }

  // Pokazuje popup z kolegÄ…
  function showFriendPopup() {
    document.getElementById('friendPopup').classList.remove('hidden');
    document.getElementById('popupOverlay').classList.remove('hidden');
  }

  // Ukrywa popup i idzie dalej do finaÅ‚u
  function closeFriendPopup() {
    document.getElementById('friendPopup').classList.add('hidden');
    document.getElementById('popupOverlay').classList.add('hidden');
    nextStep('finalQuestion');
  }
</script>
  <div class="container hidden" id="finalQuestion">
    <h2>Czy zostaniesz mojÄ… dziewczynÄ…?</h2>
    <button onclick="showLove()">Tak</button>
    <button id="noBtn" onclick="shrinkNo()">Nie</button>
  </div>

  <div class="container hidden" id="loveScreen">
    <h2 class="heart">ğŸ’– Oficjalnie jesteÅ› mojÄ… dziewczynÄ… ğŸ’–</h2>
    <p>JuÅ¼ od kilku miesiÄ™cy jesteÅ› jak moja dziewczynaâ€¦<br>
    I wiesz co?<br><br>
    UwaÅ¼am, Å¼e jesteÅ› piÄ™kna.<br>
    SÅ‚odka.<br>
    WyjÄ…tkowa.<br><br>
    I dlatego jestem pewny, Å¼e chcÄ™ Ciebie. Na serio.<br>
    Na nasze dobre dni i te trochÄ™ mniej.<br><br>
    Czas na nasze "my" âœ¨</p>
  </div>

  <script>
    function nextStep(stepId) {
      document.querySelectorAll('.container').forEach(el => el.classList.add('hidden'));
      document.getElementById(stepId).classList.remove('hidden');
    }

    let noClickCount = 0;
    function shrinkNo() {
      const noBtn = document.getElementById('noBtn');
      noClickCount++;
      if (noClickCount === 1) {
        noBtn.classList.add('shrink');
      } else if (noClickCount === 2) {
        noBtn.classList.remove('shrink');
        noBtn.classList.add('smaller');
      } else {
        noBtn.classList.add('hide');
      }
    }

    function showLove() {
      nextStep('loveScreen');
    }
  </script>
</body>
</html>
